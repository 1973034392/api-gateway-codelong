# 02 网关核心服务模块

## 4. 全局配置管理
- GlobalConfiguration类的作用是什么？
- 如何在应用启动时初始化全局配置？
- 配置文件中的各个参数分别控制什么？
- 如何实现配置的热更新？

## 5. 请求处理流程
- 请详细描述一个HTTP请求从进入网关到返回响应的完整流程
- 请求处理链中各个处理器的执行顺序是什么？
- 如何实现前置处理器和后置处理器的链式执行？
- 如果某个处理器返回了结果，后续处理器还会执行吗？

## 6. 请求解析与缓存
- 请解释请求解析的完整流程
- 为什么采用"双缓存"策略（内存缓存+Redis缓存）？
- 内存缓存和Redis缓存各自的优缺点是什么？
- 如何保证缓存的一致性？

## 7. 自定义缓存池实现
- 为什么选择LFU（Least Frequently Used）缓存策略而不是LRU？
- LFU缓存的核心数据结构是什么？
- 如何实现缓存的自动淘汰？
- 定时清空机制的作用是什么？

## 8. 自定义熔断机制
- 请解释熔断机制的工作原理
- 前置处理器和后置处理器中的熔断检查有什么区别？
- 如何实现基于QPS的熔断？
- 如何实现基于错误率的熔断？

## 9. 请求调用与结果包装
- 请描述HTTP和Dubbo两种协议的调用流程
- 如何实现协议的自动路由？
- 为什么采用异步调用而不是同步调用？
- 如何处理异步调用的异常？

## 10. 异步化处理机制
- 异步HTTP执行器是如何实现的？
- 异步Dubbo调用与同步调用有什么区别？
- CompletableFuture在这个项目中的应用场景有哪些？
- 异步处理相比同步处理的性能提升有多少？

## 11. 分布式限流器
- 请解释多级限流架构的设计思想
- 本地限流和Redis分布式限流各自的作用是什么？
- 为什么本地限流器设置为配置值的1.2倍？
- 令牌桶算法和滑动窗口算法各自适用于什么场景？

## 12. 限流器的四级限流粒度
- 全局限流、服务级限流、接口级限流、IP级限流分别如何实现？
- 多个限流规则同时生效时如何处理？
- 如何实现限流配置的实时更新？
- 限流失败时如何返回错误信息？

## 13. 限流器的Lua脚本实现
- 为什么使用Lua脚本实现限流而不是Java代码？
- 令牌桶算法的Lua脚本逻辑是什么？
- 滑动窗口算法的Lua脚本逻辑是什么？
- 如何保证Lua脚本的原子性？

## 14. 限流器的异常降级
- Redis异常时如何降级处理？
- 降级后的限流效果如何？
- 如何监控降级事件？
- 降级恢复的条件是什么？

